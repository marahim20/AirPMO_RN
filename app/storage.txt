const handleLogin = async () => {
    try {
      const response = await fetch("http://api.airpmo.co:8000/api/login", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Accept: "application/json",
        },
        body: JSON.stringify({
          Email: username,
          domain_name: "app.airpmo.co",
          Password: password,
        }),
      });
      // console.log(response);
      if (response.ok) {
        console.log("Successful login");
        const data = await response.json();
        await AsyncStorage.setItem('data', JSON.stringify(data));
        //console.log(data);
        Toast.show("Login Successful", {
          duration: Toast.durations.SHORT,
          position: Toast.positions.BOTTOM,
          shadow: true,
          animation: true,
          hideOnPress: true,
          delay: 0,
        });
        const organization_id = data.user.organization_id;
        const user_id = data.user._id;
        const token = data.access_token;
        router.push("/activities");
      } else {
        console.log("no successful login");
        Toast.show("Login Failed", {
          duration: Toast.durations.SHORT,
          position: Toast.positions.BOTTOM,
          shadow: true,
          animation: true,
          hideOnPress: true,
          delay: 0,
        });
      }
    } catch (error) {
      console.error(error);
      Toast.show("Login Failed", {
        duration: Toast.durations.SHORT,
        position: Toast.positions.BOTTOM,
        shadow: true,
        animation: true,
        hideOnPress: true,
        delay: 0,
      });
      // TODO: handle failed login
    }
  };